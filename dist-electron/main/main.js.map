{"version":3,"file":"main.js","sources":["../../electron/main.ts"],"sourcesContent":["import { app, BrowserWindow } from 'electron';\nimport path from 'path';\n\nlet mainWindow: BrowserWindow | null = null;\n\nfunction getPreloadPath() {\n  // Match vite-plugin-electron output: dist-electron/preload/preload.js\n  return path.join(__dirname, '../preload/preload.js');\n}\n\nasync function createMainWindow() {\n  mainWindow = new BrowserWindow({\n    width: 1280,\n    height: 800,\n    webPreferences: {\n      preload: getPreloadPath(),\n      contextIsolation: true,\n      nodeIntegration: false,\n    },\n  });\n\n  const devServerUrl = process.env.VITE_DEV_SERVER_URL;\n  if (devServerUrl) {\n    await mainWindow.loadURL(devServerUrl);\n    mainWindow.webContents.openDevTools({ mode: 'detach' });\n  } else {\n    const indexHtml = path.join(__dirname, '../../dist/index.html');\n    await mainWindow.loadFile(indexHtml);\n  }\n\n  mainWindow.on('closed', () => {\n    mainWindow = null;\n  });\n}\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') app.quit();\n});\n\napp.on('activate', async () => {\n  if (BrowserWindow.getAllWindows().length === 0) await createMainWindow();\n});\n\napp.whenReady().then(createMainWindow);\n\n\n"],"names":["BrowserWindow","app"],"mappings":";;;AAGA,IAAI,aAAmC;AAEvC,SAAS,iBAAiB;AAExB,SAAO,KAAK,KAAK,WAAW,uBAAuB;AACrD;AAEA,eAAe,mBAAmB;AAChC,eAAa,IAAIA,SAAAA,cAAc;AAAA,IAC7B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,gBAAgB;AAAA,MACd,SAAS,eAAA;AAAA,MACT,kBAAkB;AAAA,MAClB,iBAAiB;AAAA,IAAA;AAAA,EACnB,CACD;AAED,QAAM,eAAe,QAAA,IAAY;AACjC,MAAI,cAAc;AAChB,UAAM,WAAW,QAAQ,YAAY;AACrC,eAAW,YAAY,aAAa,EAAE,MAAM,UAAU;AAAA,EACxD,OAAO;AACL,UAAM,YAAY,KAAK,KAAK,WAAW,uBAAuB;AAC9D,UAAM,WAAW,SAAS,SAAS;AAAA,EACrC;AAEA,aAAW,GAAG,UAAU,MAAM;AAC5B,iBAAa;AAAA,EACf,CAAC;AACH;AAEAC,SAAAA,IAAI,GAAG,qBAAqB,MAAM;AAChC,MAAI,QAAQ,aAAa,SAAUA,UAAAA,IAAI,KAAA;AACzC,CAAC;AAEDA,SAAAA,IAAI,GAAG,YAAY,YAAY;AAC7B,MAAID,SAAAA,cAAc,cAAA,EAAgB,WAAW,SAAS,iBAAA;AACxD,CAAC;AAEDC,SAAAA,IAAI,UAAA,EAAY,KAAK,gBAAgB;"}